let NonEmpty = https://prelude.dhall-lang.org/NonEmpty/Type.dhall

let Strategy = ../Strategy/Type

let Grid = ./Grid
let GridBuilder = ./GridBuilder

let choose
      : forall (a : Type) -> NonEmpty a -> (a -> Grid) -> Grid
      = \(a : Type)
     -> \(xs : NonEmpty a)
     -> \(cont : a -> Grid)
     -> \(_Grid : Type)
     -> \(gridBuilder : GridBuilder _Grid)
     -> let adapt
              : Grid -> _Grid
              = \(g : Grid)
             -> g _Grid gridBuilder
        in gridBuilder.choose a { xs, cont = \(x : a) -> adapt (cont x) }

in choose
